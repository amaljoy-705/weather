<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wether-Details</title>
    <link rel="stylesheet" href="./weather.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
     <script src="https://kit.fontawesome.com/6b2a8cf136.js" crossorigin="anonymous"></script>
</head>
<body>
    <!-- <video src="./cloudy2.mov" autoplay loop muted plays-inline> -->
    <!-- <h2 class="text-center text-warning mt-5">Weather Finder</h2> -->
    <div class="row">
        <!-- <video src="./BB_c79369fe-3990-41e2-93ca-56ba870f7e6e_preview.mp4" autoplay loop muted  id="video-bg"></video>
        <h2 class="text-center text-warning mt-5">Weather Finder</h2> -->
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <video src="./BlueSky.mp4" autoplay loop muted  id="video-bg"></video>
        <h2 class="text-center text-secondary mt-5 ">Weather</h2>
            <div class="container  w-50 p-3  font-weight-bold text-center "><label for="" class="me-3 ">Search City</label>
                <input type="text" class=" no-outline form-control text-primary" id="locatio">
                <button class="btn btn-dark btn-sm mt-3 mb-3 " onclick="weatherAccess()" type="submit"><i class=" fa-solid fs-6 fa-magnifying-glass  "></i></button>
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 container-fluid  text-left" id="disp"><h5 class="today ">Today</h5>
                    <h4 class="text-white" id="city" > <i class="fa-solid fs-4 fa-location-dot me-2"></i> </h4>
                    <h5 class="cloud text-white mt-3"id="climate"><small></small></h5>
                    <h5 class="cloud2 text-white mt-3" id="clim"></h5>
                    <h1 class="text-white "><span id="tempic"></span> <span id="degree"></span><span>°c</span>  </h1>
                    <h3 class="feels">Feels Like <span id="like"></span><span>°c</span></h3>
                    <h3 class="text-white mt-5">Humidity <span id="humi"></span></h3>
                    <h3 class="text-white mt-3" ><i class="fa-solid fs-1 fa-wind"></i> <span id="wspeed"></span> <span>mph</span></h3>

                </div>
            </div>
           
        </div>
       
    </div>
    

</body>
<script>
    function weatherAccess()
{
    cityName=locatio.value
    fetch(`https://api.openweathermap.org/data/2.5/weather?q=${cityName}&appid=b41ec3be35c7dac8aabbc21ba253137a`).then(take=>take.json()).then(take=>recieveDetails(take))
}
function recieveDetails(recve)
{
   cityname=recve.name
   climate1=recve.weather[0].main
   temperature=Math.floor(recve.main.temp-273.15)
   feelslike=Math.floor(recve.main.feels_like-273.15)
   humid=recve.main.humidity
   winspeed=Math.floor(recve.wind.speed)
   city.innerHTML=cityname
   climate.innerHTML=climate1
   degree.innerHTML=temperature
   like.innerHTML=feelslike
   humi.innerHTML=humid
   wspeed.innerHTML=winspeed
        if(climate1=="Clouds")
        {
            clim.innerHTML=`<i class="fa-solid fs-1 fa-cloud "></i>
            <style>
                .container-fluid{
                    background: url(./images/cloudy.jpg)no-repeat center;
                   
                }`

        }
        else if(climate1=="snow")
        {
            clim.innerHTML=`<i class="fa-solid fs-1 fa-snowflake"></i>
            <style>
                .container-fluid{
                    background: url(./images/snow.jpg)no-repeat center;
                   
                }`
        }
        else if(climate1=="rainy")
        {
            clim.innerHTML=`<i class="fa-solid fs-1 fa-cloud-rain"></i>
            <style>
                .container-fluid{
                    background: url(./images/rainy.jpg)no-repeat center;
                    color: black;
   
                   
                }`
        }
        else if(climate1=="Clear"){
            clim.innerHTML=`<i class="fa-solid fs-1 fa-cloud-sun"></i>
            <style>
                .container-fluid{
                    background: url(./images/clearsky.jpg)no-repeat center;
                    color: black;
   
                   
                }
                .container{
                    opacity:1;
                }`
        }
        else if(climate1=="Smoke"){
            clim.innerHTML=`<i class="fa-solid fs-1 fa-smog"></i>
            <style>
                .container-fluid{
                    background: url(./images/smog.jpg)no-repeat center;
                    color: black;
   
                   
                }`
        }
        else if(climate1=="Haze"){
            clim.innerHTML=`
            <style>
                .container-fluid{
                    background: url(./images/haze.jpg)no-repeat center;
                    color: black;
   
                   
                }`
        }
        else{
            clim.innerHTML=`<i class="fa-solid fa-tornado"></i>`
        }
        if(temperature>20)
        {
            tempic.innerHTML=`<i class="fa-solid fs-4 fa-temperature-half"></i>`
        }
        
}
</script>
</html>